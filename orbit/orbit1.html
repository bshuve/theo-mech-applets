<!DOCTYPE html>
<html lang="en">

<head>
    <title>Orbital Motion and the Principle of Least Action</title>
    <link rel="stylesheet" href="./orbit-shared.css">

    <!-- Load d3.js -->
    <script src="d3.v4.js"></script>

    <!-- LaTeX support -->
    <script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script defer src="./orbit1.js"></script>
</head>

<body id="orbit1-body">
    <canvas id="star-background"></canvas>
    <h1 id="title">Orbital Motion and the Principle of Least Action</h1>

    <p id="text">
        <i>This applet visualizes the motion of a planet orbiting a star, demonstrating the physical principles that
            govern its trajectory. By adjusting key orbital parameters, you can explore how energy and angular momentum
            shape the path of a celestial body.</i>
    </p>

    <p id="text">
        In classical mechanics, the two-body problem under Newtonian gravity can be reduced to an equivalent one-body problem using the <b>reduced mass</b> \(\mu\):
        \[ \mu = \frac{m_1 m_2}{m_1 + m_2} \]
        This allows us to analyze the relative motion as if a single particle of mass \(\mu\) orbits a fixed center, greatly simplifying the analysis.
    </p>

    <p id="text">
        The general solution for the orbit in a central potential is:
        \[ r(\theta) = \frac{L^2}{\mu G m_1 m_2} \frac{1}{1 + \epsilon \cos \theta} \]
        where \(L\) is the conserved angular momentum, and \(\epsilon\) is the <b>orbital eccentricity</b>. For \(\epsilon = 0\), the orbit is circular; for \(0 < \epsilon < 1\), it is elliptical; for \(\epsilon = 1\), parabolic; and for \(\epsilon > 1\), hyperbolic.
    </p>

    <p id="text">
        The eccentricity \(\epsilon\) is determined by both the total energy \(E\) and angular momentum \(L\):
        \[
        \epsilon = \sqrt{1 + \frac{2 E L^2}{\mu (G m_1 m_2)^2}}
        \]
        This relationship shows how the geometry of the orbit encodes the system's dynamics. For a fixed \(L\), increasing \(E\) (making it less negative) increases \(\epsilon\), stretching the orbit.
    </p>

    <p id="text">
        The total mechanical energy is:
        \[
        E = \frac{1}{2} \mu \dot{r}^2 + \frac{L^2}{2\mu r^2} - \frac{G m_1 m_2}{r}
        \]
        The first term is the radial kinetic energy, the second is the angular kinetic energy, and the third is the gravitational potential energy. The sum of the last two terms is often called the <b>effective potential</b>:
        \[
        U_{\text{eff}}(r) = \frac{L^2}{2 \mu r^2} - \frac{G m_1 m_2}{r}
        \]
        The effective potential helps visualize stable and unstable orbits, and the centrifugal barrier at small \(r\).
    </p>

    <p id="text">
        <b>Instructions:</b> Use the sliders to adjust angular momentum \(L\) and eccentricity \(\epsilon\). Observe how the orbit and the energy graphs respond. Try to relate the changes you see to the equations above. For example, what happens to the minimum radius as you increase \(L\)? Can you create a nearly parabolic trajectory?
    </p>

    <!-- Conceptual question -->
    <section class="question-block" id="question1-block">
        <div class="question-text">
            <strong>Conceptual Question:</strong> In the limit where \(m_1 \gg m_2\), what does the reduced mass \(\mu\) approach, and what does this imply about the motion of the two bodies?
        </div>
        <button id="show-q1" class="toggle-answer">Show answer</button>
        <div id="answer1" class="answer-text" style="display: none;">
            When \(m_1 \gg m_2\), \(\mu \approx m_2\). This means the lighter body (e.g., a planet) essentially orbits the much heavier one (e.g., a star), which remains nearly stationary in the center-of-mass frame.
        </div>
    </section>

    <div id="applet">
        <!-- Animation and sliders -->
        <div id="animation-container">
            <div id="orbit-animation"></div>
            <div id="slider-row">
                <div id="L-slider-container">
                    <label for="L-slider">Momentum (L): </label>
                    <span id="print-L">2.7</span><br>
                    <input id="L-slider" class="slider" type="range" min="1" max="5" value="2.7" step="0.1">
                </div>
                <div id="epsilon-slider-container">
                    <label for="epsilon-slider">Eccentricity (ε): </label>
                    <span id="print-epsilon">0.00</span><br>
                    <input id="epsilon-slider" class="slider" type="range" min="0" max="0.99" value="0" step="0.01">
                </div>
            </div>
        </div>
        <!-- Graphs in a column: two rows, each with two graphs -->
        <div id="graphs-container">
                <div id="radial-kinetic-line" class="energy-graph"></div>
                <div id="orbital-kinetic-line" class="energy-graph"></div>
                <div id="potential-energy-graph" class="energy-graph"></div>
        </div>
        <!-- Calculated values -->
        <div class="calculated-values">
            <h4>Calculated Values:</h4>
            <p>\(r_{\text{min}} = \) <span id="print-r-min">1.50 × 10¹¹</span> m</p>
            <p>\(E = \) <span id="print-energy">-2.97 × 10³³</span> J</p>
        </div>
        <!-- Legend -->
        <fieldset>
            <legend>LEGEND</legend>
            <label><span id="orange">.....</span> - Position</label><br>
            <label><span id="purple">.....</span> - Velocity</label><br>
        </fieldset>
    </div>
    <div class="buttons">
        <column id="next-button">
            <button onclick="window.location.href = 'orbit2.html'">NEXT PAGE</button>
        </column>
    </div>
</body>
</html>
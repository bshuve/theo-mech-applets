<!DOCTYPE html>
<html lang="en">

<head>
    <title>Exploring Orbital Parameters: Minimum Radius Effects</title>
    <link rel="stylesheet" href="./orbit2.css">

    <!-- Load d3.js -->
    <script src="d3.v4.js"></script>

    <!-- LaTeX support -->
    <script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script defer src="./orbit2.js"></script>
</head>

<body id="body">
    <canvas id="star-background"></canvas>

    <h1 id="title">Exploring Orbital Parameters: Minimum Radius Effects</h1>

    <p id="text">
        <i>Building on our exploration of energy from the previous page, this applet reveals how the minimum
            orbital radius (\(r_{\text{min}}\)) interacts with planetary motion. </i>
    </p>

    <p id="text">
        Previously we saw how energy (\(E\)) determines orbital shapes. Now, we'll discover how
        \(r_{\text{min}}\), the closest approach distance, interacts with angular momentum (\(L\)) and total energy
        (\(E\)). At perihelion (\(r_{\text{min}}\)), the radial velocity vanishes (\(\dot{r} = 0\)), concentrating all
        kinetic energy in angular motion:
    </p>

    <div style="text-align: center; margin: 20px 0;">
        \[ E = \frac{L^2}{2\mu r_{\text{min}}^2} - \frac{G m_1 m_2}{r_{\text{min}}} \]
    </div>

    <p id="text">
        This reveals a key insight: <strong>For fixed angular momentum, changing \(r_{\text{min}}\) directly determines
            the orbital energy</strong>. Smaller \(r_{\text{min}}\) values result
        in more negative (bound) energies. The eccentricity we controlled previously can be calculated from this
        relationship:
    </p>

    <div style="text-align: center; margin: 20px 0;">
        \[ \epsilon = \sqrt{1 + \frac{2 E L^2}{\mu (G m_1 m_2)^2}} \]
    </div>

    <!-- Improved question/answer block -->
    <section class="question-block" id="question1-block">
        <div class="question-text">
            <strong>Question:</strong> What happens to orbital eccentricity when you decrease \(r_{\text{min}}\) while keeping
            angular momentum constant? Why does this occur?
        </div>
        <button id="show-q1" class="toggle-answer">Show answer</button>
        <div id="answer1" class="answer-text" style="display: none;">
            Decreasing \(r_{\text{min}}\) at constant \(L\) makes the total energy more negative (since \(E \propto
            -\frac{Gm_1m_2}{r_{\text{min}}}\)), increasing eccentricity (\(\epsilon\)). This creates more elongated
            orbits because the planet must travel farther from the star to conserve angular momentum, demonstrating the
            connection between close approach distance and orbital shape.
        </div>
    </section>

    <p id="text">
        As you experiment with the r<sub>min</sub> slider, notice how the orbital behavior changes at the
        boundaries:
    </p>
    <ul id="text">
        <li><strong>Minimum r<sub>min</sub>:</strong> Creates highly eccentric orbits where the planet
            swings close to the star before flying far out. The centrifugal barrier becomes significant at this
            close approach.</li>

        <li><strong>Maximum r<sub>min</sub>:</strong> Produces circular orbits. The planet maintains
            a more consistent distance from the star, with minimal energy variation.</li>

        <li><strong>Beyond boundaries (theoretical):</strong>
            <ul>
                <li>If r<sub>min</sub> could be <strong>smaller</strong>, angular momentum would need to increase
                    dramatically to prevent collision and keep the orbit bound; otherwise, the planet would escape on an
                    unbound hyperbolic trajectory.</li>
                <li>If r<sub>min</sub> could be <strong>larger</strong>, the orbit would ???
            </ul>
        </li>
    </ul>
    <p id="text">
        The effective potential curve helps explain these limits. As r<sub>min</sub> increases, the potential well
        becomes shallower, reducing the energy difference between perihelion and aphelion.
    </p>

    <p id="text">
        Using the same star-planet system from the previous page, adjust the sliders to explore how minimum radius and
        angular momentum affect orbital characteristics:
    </p>

    <ul id="text">
        <li><strong>Energy:</strong> Observe how decreasing \(r_{\text{min}}\) lowers energy levels but doesn't change the effective potentiel energy for a given radius.</li>
        <li><strong>Eccentricity</strong> Observe how \(r_{\text{min}}\) directly affects orbital eccentricity.</li>
        <li><strong>Energy conversion:</strong> See how kinetic/potential energy exchange at perihelion and aphelion.</li>
    </ul>

    <div id="applet">
        <!-- Animation and sliders -->
        <div id="animation-container">
            <div id="orbit-animation"></div>
            <div id="slider-row">
                <div id="L-slider-container">
                    <label for="L-slider">L (10e40 kg*m²/s): </label>
                    <span id="print-L">2.7</span><br>
                    <input id="L-slider" class="slider" type="range" min="1" max="5" value="2.7" step="0.1">
                </div>
                <div id="rmin-slider-container">
                    <label for="rmin-slider">r_min (AU): </label>
                    <span id="print-rmin">1.00</span><br>
                    <input id="rmin-slider" class="slider" type="range" min="0.5" max="2.0" value="1" step="0.1">
                </div>

            </div>
        </div>
        <!-- Graphs in a row -->
        <div id="graphs-container">
            <div id="kinetic-graph" class="energy-graph"></div>
            <div id="kinetic-graph2" class="energy-graph"></div>
            <div id="potential-energy-graph" class="energy-graph"></div>
        </div>
        <!-- Calculated values -->
        <div class="calculated-values">
            <h4>Calculated Values:</h4>
            <p><strong>ε =</strong> <span id="print-epsilon">0.00</span></p>
            <p><strong>E =</strong> <span id="print-energy">0.00</span> × 10³³ J</p>
        </div>
    </div>
    <div class="buttons">
        <column id="prev-button">
            <button onclick="window.location.href = 'orbit1.html'">PREVIOUS PAGE</button>
        </column>
        <column id="next-button">
            <button onclick="window.location.href = 'orbit3.html'">NEXT PAGE</button>
        </column>
    </div>
</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Exploring Orbital Parameters: Minimum Radius Effects</title>
    <link rel="stylesheet" href="./orbit2.css">

    <!-- Load d3.js -->
    <script src="d3.v4.js"></script>

    <!-- LaTeX support -->
    <script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script defer src="./orbit2.js"></script>
</head>

<body id="body">
    <canvas id="star-background"></canvas>

    <h1 id="title">Exploring Orbital Parameters: Minimum Radius Effects</h1>

    <p id="text">
        <i>Building on our exploration of energy from the previous page, this applet reveals how the minimum
            orbital radius (\(r_{\text{min}}\)) interacts with planetary motion. </i>
    </p>

    <p id="text">
        Previously we saw how energy (\(E\)) determines orbital shapes. Now, we'll discover how
        \(r_{\text{min}}\), the closest approach distance, interacts with angular momentum (\(L\)) and total energy
        (\(E\)). At perihelion (\(r_{\text{min}}\)), the radial velocity vanishes (\(\dot{r} = 0\)), concentrating all
        kinetic energy in angular motion:
    </p>

    <div style="text-align: center; margin: 20px 0;">
        \[ E = \frac{L^2}{2\mu r_{\text{min}}^2} - \frac{G m_1 m_2}{r_{\text{min}}} \]
    </div>

    <p id="text">
        This reveals a key insight: <strong>For fixed angular momentum, increasing \(r_{\text{min}}\) leads to more negative (more tightly bound) energy, while decreasing \(r_{\text{min}}\) increases the energy (making it less negative or even positive for unbound orbits)</strong>. The eccentricity we controlled previously can be calculated from this relationship:
    </p>

    <div style="text-align: center; margin: 20px 0;">
        \[ \epsilon = \sqrt{1 + \frac{2 E L^2}{\mu (G m_1 m_2)^2}} \]
    </div>

    <!-- Improved question/answer block -->
    <section class="question-block" id="question1-block">
        <div class="question-text">
            <strong>Question:</strong> What happens to orbital eccentricity when you decrease \(r_{\text{min}}\) while keeping
            angular momentum constant? Why does this occur?
        </div>
        <button id="show-q1" class="toggle-answer">Show answer</button>
        <div id="answer1" class="answer-text" style="display: none;">
            Decreasing \(r_{\text{min}}\) at constant \(L\) increases the total energy (makes it less negative or even positive), which decreases the eccentricity for bound orbits (\(\epsilon < 1\)). If the energy becomes positive, the orbit becomes unbound (\(\epsilon \geq 1\)). This reflects the fact that a planet with a very close approach and not enough angular momentum can escape the gravitational pull.
        </div>
    </section>

    <p id="text">
        As you experiment with the r<sub>min</sub> slider, notice how the orbital behavior changes at the
        boundaries:
    </p>
    <ul id="text">
        <li><strong>Minimum r<sub>min</sub>:</strong> As you decrease r<sub>min</sub>, the orbit approaches the limit where it becomes unbound (\(\epsilon \to 1\)). The applet restricts to bound orbits (\(\epsilon < 1\)), so you won't see hyperbolic trajectories here.</li>

        <li><strong>Maximum r<sub>min</sub>:</strong> This corresponds to a circular orbit, where the radius and potential energy remain constant. In the effective potential picture, this is a stable equilibrium point.</li>
    </ul>
    <p id="text">
        The effective potential curve helps explain these limits. As r<sub>min</sub> increases, the potential well
        becomes deeper, and the orbit becomes more tightly bound.
    </p>

    <p id="text">
        Using the same star-planet system from the previous page, adjust the sliders to explore how minimum radius and
        angular momentum affect orbital characteristics:
    </p>

    <ul id="text">
        <li><strong>Energy:</strong> Observe how increasing \(r_{\text{min}}\) lowers the total energy (makes it more negative), corresponding to more tightly bound orbits.</li>
        <li><strong>Eccentricity:</strong> See how \(r_{\text{min}}\) directly affects orbital eccentricity for a given angular momentum.</li>
        <li><strong>Energy conversion:</strong> Watch how kinetic and potential energy exchange at perihelion and aphelion.</li>
    </ul>

    <div id="applet">
        <!-- Animation and sliders -->
        <div id="animation-container">
            <div id="orbit-animation"></div>
            <div id="slider-row">
                <div id="L-slider-container">
                    <label for="L-slider">L (10e40 kg*m²/s): </label>
                    <span id="print-L">2.7</span><br>
                    <input id="L-slider" class="slider" type="range" min="1" max="5" value="2.7" step="0.1">
                </div>
                <div id="rmin-slider-container">
                    <label for="rmin-slider">r_min (AU): </label>
                    <span id="print-rmin">0.80</span><br>
                    <input id="rmin-slider" class="slider" type="range" min="0.50" max="1.00" value="0.80" step="0.01">
                </div>

            </div>
        </div>
        <!-- Graphs in a row -->
        <div id="graphs-container">
            <div id="kinetic-graph" class="energy-graph"></div>
            <div id="kinetic-graph2" class="energy-graph"></div>
            <div id="potential-energy-graph" class="energy-graph"></div>
        </div>
        <!-- Calculated values -->
        <div class="calculated-values">
            <h4>Calculated Values:</h4>
            <p><strong>ε =</strong> <span id="print-epsilon">0.00</span></p>
            <p><strong>E =</strong> <span id="print-energy">0.00</span> × 10³³ J</p>
        </div>
    </div>
    <div class="buttons">
        <column id="prev-button">
            <button onclick="window.location.href = 'orbit1.html'">PREVIOUS PAGE</button>
        </column>
        <column id="next-button">
            <button onclick="window.location.href = 'orbit3.html'">NEXT PAGE</button>
        </column>
    </div>
</body>

</html>